# general variables

common:
    master_node: '{{ groups.nodes[0] }}'
    slave_node: '{{ groups.nodes[1] }}'

# !важно! имена и количество узлов должны совпадать cо списком узлов в файле stage в разделе [nodes]
nodes_ip: { hacnode1: 49, hacnode2: 50, hacnode3: 51 }

repository:
    # Адрес репозитория с дистрибутивом Астры версии 1.3
    os: http://packages.npdb/se13

    # Адреса репозиториев с пакетами для ПК КВГ
    hac_common: http://packages.npdb/virt/se13/common
    hac: http://packages.npdb/virt/se13/vplatform
    # todo only for havedeg!!! add this package to clustert rep!
    globula: http://packages.npdb/cloud/se13/globula

hac_cntrl:
    #TODO адрес должен быть из сети public!!
    ip: 192.168.50.55
    name: cluster

# Настройки Astra Linux Directory
ald:
    # Узел сервера
    master_ald_srv: '{{ common.master_node }}'

    # Домен
    domain: npdb

    # Расположение информации в LDAP.
    ldap_domain: dc=${ald.domain}

    # Домен в записи Kerberos в верхнем регистре.
    krb_domain: ${ald.domain.upper()}

    # Список групп
    groups: [administrators, users]

    # Имя администратора
    kvg_admin_name: kvg_admin

    # Сервисы
    services_list: [krb5-kdc, krb5-admin-server, slapd, nslcd, nscd, aldd, aldcd]

# точка монтирования glusterfs
# todo сейчас используется в glusterfs role, будет монтироваться pacemaker'ом
gluster:
    mount_point: '/var/glusterfs'
    placedir: '/srv'
    volume: 'vm_storage_volume'
dirs:
    vm_images: '{{ gluster.mount_point }}/vm_images_and_config'
    ald_env_users: '{{ gluster.mount_point }}'
    
